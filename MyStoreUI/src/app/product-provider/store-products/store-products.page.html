<ion-content class="after-login-bg ion-padding">
  <ion-item lines="none" class="ion-list-header">
    <ion-col size="1">
      <ion-icon name="list" size="large"></ion-icon>
    </ion-col>
    <ion-col size="7">
      <ion-title class="ion-text-right list-title" *ngIf="!editMaster">Products</ion-title>
    </ion-col>
    <ion-col size="4" *ngIf="!editProduct">
        <ion-label class="ion-text-right list-button" (click)="editProductInfo()">
          <ion-icon name="add-circle-outline" slot="start"></ion-icon>Add Product</ion-label>
    </ion-col>
  </ion-item>

  <ion-item class="ion-ele sub-store" *ngIf="!editProduct">
    <ion-label position="floating">Select Store</ion-label>
    <ion-select>
      <ion-select-option *ngFor="let storeItem of stores" value="{{storeItem.value}}">{{storeItem.text}}
      </ion-select-option>
    </ion-select>
    <ion-icon name="funnel-outline" slot="start"></ion-icon>
  </ion-item>
  <ion-list class="ion-list-ele" *ngIf="!editProduct && storeProductsData.length > 0">
    <ion-item *ngFor="let product of storeProductsData;">
      <ion-avatar item-start size="3">
        <img src="assets/default-image.jpg">
      </ion-avatar>
      <ion-col size="7">
        <ion-label>Name: <b>{{ product.productName }}</b></ion-label>
        <ion-label>Category: <b>{{product.category}}</b></ion-label>
      </ion-col>
      <ion-col size="2" class="ion-text-right">
        <ion-icon name="trash-outline" size="large"></ion-icon>
      </ion-col>
      <ion-col size="1">
        <ion-icon name="create-outline" size="large" (click)="editProductInfo()"></ion-icon>
      </ion-col>
    </ion-item>
  </ion-list>

  <form [formGroup]="storeProductsForm" *ngIf="editProduct">
    <ion-row>
      <ion-col size-md="6" size-xs="12" size-lg="4" size-xl="3">
        <ion-item class="ion-ele">
          <ion-label position="floating">Select Store</ion-label>
          <ion-select formControlName="StoreID">
            <ion-select-option *ngFor="let storeItem of stores" value="{{storeItem.value}}">{{storeItem.text}}
            </ion-select-option>
          </ion-select>
          <ion-icon name="cog-outline" slot="start"></ion-icon>
        </ion-item>

        <small *ngIf="isFormSubmitted &&  StoreID.errors"><span style="color: red;">*Store Required </span>
        </small>
      </ion-col>
      <ion-col size-md="6" size-xs="12" size-lg="4" size-xl="3">
        <ion-item class="ion-ele">
          <ion-label position="floating">Category</ion-label>
          <ion-input type="text" formControlName="Category" required></ion-input>
          <ion-icon name="aperture-outline" slot="start"></ion-icon>
        </ion-item>

        <small *ngIf="isFormSubmitted &&  Category.errors"><span style="color: red;">*Category Required </span>
        </small>
      </ion-col>
      <ion-col size-md="6" size-xs="12" size-lg="4" size-xl="3">
        <ion-item class="ion-ele">
          <ion-label position="floating">Product name</ion-label>
          <ion-input type="text" formControlName="ProductName" required></ion-input>
          <ion-icon name="apps-outline" slot="start"></ion-icon>
        </ion-item>

        <small *ngIf="isFormSubmitted &&  ProductName.errors"><span style="color: red;">*Product name Required </span>
        </small>
      </ion-col>
      <ion-col size-md="6" size-xs="12" size-lg="4" size-xl="3">
        <ion-item class="ion-ele">
          <ion-label position="floating">Units</ion-label>
          <ion-select formControlName="Units">
            <ion-select-option value="kgs">Kgs</ion-select-option>
            <ion-select-option value="litres">Litres</ion-select-option>
            <ion-select-option value="items">Items</ion-select-option>
            <ion-select-option value="ml">ml</ion-select-option>
          </ion-select>
          <ion-icon name="bar-chart-outline" slot="start"></ion-icon>
        </ion-item>
        <small *ngIf="isFormSubmitted &&  Units.errors"><span style="color: red;">*Units Required </span>
        </small>
      </ion-col>
      <ion-col size-md="6" size-xs="12" size-lg="4" size-xl="3">
        <ion-item class="ion-ele">
          <ion-label position="floating">Quantity</ion-label>
          <ion-input type="number" formControlName="Quantity" required></ion-input>
          <ion-icon name="basket-outline" slot="start"></ion-icon>
        </ion-item>
        <small *ngIf="isFormSubmitted &&  Quantity.errors"><span style="color: red;">*Quantity Required </span>
        </small>
      </ion-col>
      <ion-col size-md="6" size-xs="12" size-lg="4" size-xl="3">
        <ion-item class="ion-ele">
          <ion-label position="floating">Select Discount</ion-label>
          <ion-select formControlName="DiscountType">
            <ion-select-option value="percentage">Percentage</ion-select-option>
            <ion-select-option value="rupees">Rupees</ion-select-option>
          </ion-select>
          <ion-icon name="code-outline" slot="start"></ion-icon>
        </ion-item>
        <small *ngIf="isFormSubmitted &&  DiscountType.errors"><span style="color: red;">*Discount Type Required </span>
        </small>
      </ion-col>
      <ion-col size-md="6" size-xs="12" size-lg="4" size-xl="3">
        <ion-item class="ion-ele">
          <ion-label position="floating">Discount</ion-label>
          <ion-input type="number" formControlName="Discount" required></ion-input>
          <ion-icon name="pricetag-outline" slot="start"></ion-icon>
        </ion-item>
        <small *ngIf="isFormSubmitted &&  Discount.errors"><span style="color: red;">*Discount Required </span>
        </small>
      </ion-col>
      <ion-col size-md="6" size-xs="12" size-lg="4" size-xl="3">
        <ion-item class="ion-ele">
          <ion-label position="floating">Price Before Discount</ion-label>
          <ion-input type="number" formControlName="PriceBeforeDiscount" required></ion-input>
          <ion-icon name="print-outline" slot="start"></ion-icon>
        </ion-item>
        <small *ngIf="isFormSubmitted &&  PriceBeforeDiscount.errors"><span style="color: red;">*Price Before Discount
            Required </span>
        </small>
      </ion-col>
      <ion-col size-md="6" size-xs="12" size-lg="4" size-xl="3">
        <ion-item class="ion-ele">
          <ion-label position="floating">Price After Discount</ion-label>
          <ion-input type="number" formControlName="PriceAfterDiscount" required></ion-input>
          <ion-icon name="pricetags-outline" slot="start"></ion-icon>
        </ion-item>
        <small *ngIf="isFormSubmitted &&  PriceAfterDiscount.errors"><span style="color: red;">*Price After Discount
            Required </span>
        </small>
      </ion-col>
      <ion-col size-md="6" size-xs="12" size-lg="4" size-xl="3">
        <ion-item class="ion-ele">
          <ion-icon name="images-outline" slot="start"></ion-icon>
          <ion-button shape="round" expand="full" size="default" (click)="selectImage();" class="ion-button">
            Select Image</ion-button>
          <ion-label class="ion-text-right" *ngIf="selectedDocs.length != 0"><ion-icon name="eye-outline"></ion-icon> {{selectedDocs.length}}
          </ion-label>
        </ion-item>
      </ion-col>
    </ion-row>

    <!-- <ion-row>
      <ion-col class="ion-text-center ion-margin-top" size-md="6" size-xs="12" size-sm="12" push-md="3" push-lg="3"
        size-lg="6">
        <ion-button type="submit" shape="round" expand="block" (click)="addProduct();"
          class="ion-margin-bottom ion-button">Add</ion-button>
      </ion-col>
    </ion-row> -->

    <!-- <ion-grid *ngIf="showTempList">
      <ion-row>
        <ion-col size="3">Action</ion-col>
        <ion-col size="5">Product Name</ion-col>
        <ion-col size="4">Category</ion-col>
      </ion-row>
      <ion-row *ngFor="let product of tempProducts;">
        <ion-col size="3">
          <ion-icon name="trash" (click)="deleteProduct(product);" class="table-icons" color="danger"></ion-icon>
        </ion-col>
        <ion-col size="5" style="font-size: 12px;">{{ product.ProductName }}</ion-col>
        <ion-col size="4" style="font-size: 12px;">{{ product.Category}}</ion-col>
      </ion-row>
    </ion-grid> -->

    <!-- *ngIf="showTempList" -->
    <ion-row>
      <ion-col class="ion-text-center ion-margin-top" size-md="6" size-xs="12" size-sm="12" push-md="3" push-lg="3"
        size-lg="6">
        <ion-button type="submit" (click)="uploadProduct();" shape="round" expand="block"
          class="ion-margin-bottom ion-button">Upload</ion-button>
      </ion-col>
    </ion-row>
  </form>
</ion-content>
